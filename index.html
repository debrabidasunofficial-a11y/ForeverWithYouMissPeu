<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For My Love ‚ù§Ô∏è</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&family=Poppins:wght@300;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --pink1:#ff9a9e;
      --pink2:#ff6fb5;
      --accent:#ff1493;
      --card-bg: rgba(255,255,255,0.06);
      --glass: rgba(255,255,255,0.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;
      background: radial-gradient(circle at 10% 20%, var(--pink1), #ffd0df 30%, #ffeef6 100%);
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
      padding-bottom:60px;
    }

    /* Header */
    header{
      text-align:center;
      padding:60px 20px 30px;
      position:relative;
    }
    .title{
      font-family:'Dancing Script',cursive;
      font-size:4rem;
      margin:0;
      line-height:1;
      color:var(--accent);
      background: linear-gradient(90deg,#fff,#ffb6db,#ff69b4);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow:0 0 14px rgba(255,105,180,0.45);
      opacity:0;
      transform:translateY(-25px) scale(0.98);
      animation:titleIn .9s cubic-bezier(.2,.9,.3,1) forwards;
    }
    @keyframes titleIn{
      to { opacity:1; transform:none; }
    }
    .subtitle{
      margin-top:8px;
      font-size:1.15rem;
      opacity:0;
      animation: subtitleIn .9s .4s forwards;
    }
    @keyframes subtitleIn{ to {opacity:1; transform:none;} }

    /* Photo */
    .us-photo{
      margin-top:26px;
      width:320px;
      max-width:90%;
      border-radius:18px;
      box-shadow: 0 8px 40px rgba(255,20,147,0.12);
      border: 2px solid rgba(255,255,255,0.08);
      transform:scale(.9) rotate(-1deg);
      opacity:0;
      animation: photoIn .9s 1s forwards;
    }
    @keyframes photoIn{ to {opacity:1; transform:none;} }

    /* Section wrappers */
    section { padding:36px 16px; max-width:1100px; margin:0 auto; }

    /* Memories gallery */
    .gallery h2{
      font-family:'Great Vibes',cursive;
      font-size:2.4rem;
      margin:0 0 14px;
      text-shadow:0 0 12px rgba(255,20,147,0.14);
    }
    .gallery .row{ display:flex; gap:14px; justify-content:center; flex-wrap:wrap; }
    .gallery img{
      width:200px; border-radius:14px; cursor:pointer;
      transition:transform .45s ease, box-shadow .45s ease;
      box-shadow:0 6px 22px rgba(0,0,0,0.15);
    }
    .gallery img:hover{ transform:scale(1.06) rotate(-3deg); box-shadow:0 12px 40px rgba(255,20,147,0.12); }

    /* Surprise note */
    .surprise {
      text-align:center;
      margin-top:18px;
    }
    .surprise .label{
      font-family:'Dancing Script',cursive;
      font-size:2.4rem;
      display:inline-block;
      padding:8px 18px;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      box-shadow: 0 6px 30px rgba(255,105,180,0.06);
      cursor:pointer;
      transition: transform .22s;
    }
    .surprise .label:active{ transform:scale(.98); }

    .hidden-note{
      margin-top:18px;
      font-family:'Great Vibes',cursive;
      font-size:2rem;
      color:#fff;
      display:inline-block;
      padding:14px 22px;
      border-radius:14px;
      background:linear-gradient(90deg, rgba(255,20,147,0.12), rgba(255,105,180,0.06));
      box-shadow: 0 10px 30px rgba(255,20,147,0.08);
      transform:translateY(20px);
      opacity:0;
      transition: all .6s cubic-bezier(.2,.9,.25,1);
    }
    .hidden-note.revealed{ opacity:1; transform:none; }

    /* Countdown */
    .countdown {
      text-align:center;
      font-size:1.5rem;
      padding:18px;
      border-radius:12px;
      background:var(--glass);
      display:inline-block;
      box-shadow:0 8px 30px rgba(255,20,147,0.05);
    }

    /* birthday confetti */
    .confetti {
      position:fixed; pointer-events:none; left:0; top:0; width:100%; height:100%; overflow:hidden;
      z-index:9999;
    }
    .confetti i {
      position:absolute; width:10px; height:16px; opacity:0.95; transform-origin:center; will-change:transform;
      animation:fall linear forwards;
    }
    @keyframes fall {
      to { transform: translateY(110vh) rotate(720deg); opacity:0; }
    }

    /* Comments UI */
    .comments { text-align:center; margin-top:18px; }
    .comments h2 { font-family:'Great Vibes',cursive; font-size:2rem; margin-bottom:8px; }
    .controls { display:flex; gap:10px; justify-content:center; align-items:center; margin-bottom:12px; flex-wrap:wrap; }
    input#commentInput { padding:12px 14px; border-radius:12px; border:none; width:320px; max-width:80%; }
    button#commentBtn { padding:10px 16px; border-radius:12px; border:none; background:var(--accent); color:#fff; cursor:pointer; font-weight:600; }
    #commentList { margin-top:14px; display:flex; flex-direction:column; gap:10px; align-items:center; }

    .comment-item {
      background: rgba(255,255,255,0.04);
      padding:14px 18px;
      border-radius:14px;
      width:fit-content; max-width:85%;
      position:relative;
      animation:commentIn .38s ease;
      box-shadow:0 8px 24px rgba(0,0,0,0.12);
    }
    @keyframes commentIn{ from{transform:translateY(8px);opacity:0} to{transform:none;opacity:1} }

    .comment-heart { position:absolute; right:10px; top:8px; cursor:pointer; font-size:1.2rem; }

    /* music control */
    .music-control {
      position:fixed; right:18px; bottom:18px; z-index:999;
      background:linear-gradient(180deg,#fff,#ffd9ec); color:#000;
      border-radius:999px; padding:8px 12px; display:flex; gap:8px; align-items:center;
      box-shadow:0 10px 30px rgba(255,20,147,0.12);
      transform:translateY(0); transition:transform .25s;
    }
    .music-control button{ background:transparent; border:none; cursor:pointer; font-weight:700; }
    .music-control small { font-size:0.85rem; opacity:0.9; }

    /* small helpers */
    .muted-note{ font-size:.9rem; opacity:.9; margin-top:8px; display:block; text-align:center; }
    @media (max-width:520px){
      .title{ font-size:2.6rem; }
      .us-photo{ width:86%; }
    }
  </style>
</head>
<body>

  <header>
    <h1 class="title">For My Love ‚ù§Ô∏è</h1>
    <div class="subtitle">You light up my life ‚Äî this little surprise is just for you ‚ú®</div>

    <!-- Photo: put your image at images/us.jpg or change src below -->
    <img id="usPhoto" class="us-photo" src="peu&deb.jpg" alt="Us Together"
         onerror="handleImageError(this)">
  </header>

  <!-- MEMORIES -->
  <section class="gallery">
    <h2>Our Memories</h2>
    <div class="row">
      <img src="photo1.jpg" alt="memory1"      
      <img src="photo2.jpg" alt="memory2" 
      <img src="photo3.jpg" alt="memory3"
     <img src="photo4.jpeg" alt="memory4"      
        </div>
  </section>

  <!-- SURPRISE NOTE -->
  <section class="surprise">
    <div class="label" id="revealBtn" title="Click to reveal the hidden note">Click the heart to reveal üíñ</div>
    <div id="hiddenNote" class="hidden-note" aria-hidden="true">You are my forever and always ‚ù§Ô∏è</div>
  </section>

  <!-- COUNTDOWN -->
  <section style="text-align:center;">
    <div class="countdown" id="countdownBox">
      Birthday Countdown: <strong id="countdownText">--d --h --m --s</strong>
    </div>
    <div class="muted-note">If the countdown seems stuck, double-check the birthday value in the code (see instructions).</div>
  </section>

  <!-- COMMENTS -->
  <section class="comments">
    <h2>Leave a Comment üíå</h2>
    <div class="controls">
      <input id="commentInput" placeholder="Tell me what you think..." />
      <button id="commentBtn">Post</button>
    </div>
    <div id="commentList"></div>
  </section>

  <!-- music (place your file in audio/your_song.mp3 or change path) -->
  <audio id="bgMusic" src="your_song.mp3" preload="none"></audio>
  <div class="music-control" id="musicControl" aria-hidden="false">
    <button id="musicToggle">‚ñ∫</button>
    <small id="musicLabel">Play music</small>
  </div>

  <!-- confetti container -->
  <div class="confetti" id="confetti"></div>

  <footer style="text-align:center; padding-top:30px;">
    Made with ‚ù§Ô∏è by me, for you.
  </footer>

  <script>
    /* ========== USER SETTINGS ========== 
       Replace BIRTHDAY with either:
         "MM-DD"   (e.g. "11-19")  -- this will auto-target the next occurrence
       OR  "YYYY-MM-DD" (e.g. "2024-11-19")
    ===================================== */
    const BIRTHDAY = "11-19"; // <<< REPLACE THIS with her birthday (MM-DD or YYYY-MM-DD)

    /* ---------- Hidden note reveal ---------- */
    <section class="hidden-note">
    <h2>üíå A Hidden Message üíå</h2>
    <button onclick="revealNote()">Click Me ‚ù§Ô∏è</button>
    <div id="loveNote">
        <p>From the moment you walked into my life, everything changed forever üíñ</p>
        <p>You are my best friend, my smile, my safe place, and my greatest love ‚ú®</p>
        <p>Every heartbeat whispers your name, every dream paints your face üåô</p>
        <p>No distance, no time, nothing in this world can ever change what I feel for you üíï</p>
        <p>You are not just my today, you are all of my tomorrows... Forever and Always ‚ù§Ô∏è</p>
    </div>
</section>
   
    #loveNote {
  margin-top: 20px;
  font-size: 1.4em;
  color: #fffacd;
  display: none;
  line-height: 1.8em;
  text-shadow: 0 0 10px #000, 0 0 15px #ff1493;
  animation: fadeInDown 1.5s ease forwards;
}
#loveNote p {
  margin: 10px 0;
}

    function revealNote() {
  document.getElementById("loveNote").style.display = "block";
    }
    
    /* ---------- Parse birthday & compute next occurrence ---------- */
    function getNextBirthdayDate(month, day){
      const now = new Date();
      let target = new Date(now.getFullYear(), month-1, day, 0,0,0,0);
      if(target.getTime() <= now.getTime()){
        target = new Date(now.getFullYear()+1, month-1, day, 0,0,0,0);
      }
      return target;
    }

    function parseBirthdayString(str){
      str = String(str).trim();
      const reFull = /^\d{4}-\d{2}-\d{2}$/;
      const reShort = /^\d{2}-\d{2}$/;
      if(reFull.test(str)){
        const parts = str.split('-').map(Number);
        // if given full year, but that date already passed -> target next year same month/day
        let target = new Date(parts[0], parts[1]-1, parts[2], 0,0,0,0);
        const now = new Date();
        if(target.getTime() <= now.getTime()){
          target = new Date(now.getFullYear()+1, parts[1]-1, parts[2], 0,0,0,0);
        }
        return target;
      } else if(reShort.test(str)){
        const [m,d] = str.split('-').map(Number);
        return getNextBirthdayDate(m,d);
      } else {
        console.error("BIRTHDAY format invalid. Use 'MM-DD' or 'YYYY-MM-DD'. Current:", str);
        return null;
      }
    }

    const targetDate = parseBirthdayString(BIRTHDAY);
    const countdownText = document.getElementById('countdownText');

    function formatCountdown(ms){
      if(ms <= 0) return null;
      const s = Math.floor(ms/1000);
      const days = Math.floor(s / (24*3600));
      const hours = Math.floor((s % (24*3600)) / 3600);
      const mins = Math.floor((s % 3600) / 60);
      const secs = s % 60;
      return `${days}d ${hours}h ${mins}m ${secs}s`;
    }

    function showConfetti(){
      const wrap = document.getElementById('confetti');
      const colors = ['#ff7ab6','#ffd166','#9cf5ff','#ffb3e6','#f9f871'];
      for(let i=0;i<80;i++){
        const el = document.createElement('i');
        el.style.left = Math.random()*100 + 'vw';
        el.style.top = (-10 - Math.random()*10) + 'vh';
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.width = (6+Math.random()*12) + 'px';
        el.style.height = (8+Math.random()*16) + 'px';
        el.style.opacity = (0.7+Math.random()*0.3);
        el.style.transform = `rotate(${Math.random()*360}deg)`;
        el.style.animationDuration = (2+Math.random()*3)+'s';
        wrap.appendChild(el);
        setTimeout(()=> el.remove(), 5500);
      }
    }

    function updateCountdown(){
      if(!targetDate){
        countdownText.textContent = "Set birthday correctly in code (MM-DD or YYYY-MM-DD)";
        return;
      }
      const now = new Date();
      let diff = targetDate.getTime() - now.getTime();
      if(diff <= 0){
        countdownText.textContent = "üéâ Happy Birthday! üéâ";
        showConfetti();
        clearInterval(countdownTimer);
        // after clearing, set timer to next year's birthday automatically
        setTimeout(()=>{
          // compute next year's target and restart
          const m = targetDate.getMonth()+1;
          const d = targetDate.getDate();
          const next = getNextBirthdayDate(m,d);
          // restart
          window.location.reload(); // easiest: refresh once to recalc OR you can set targetDate = next and restart interval
        },4000);
        return;
      }
      const formatted = formatCountdown(diff);
      countdownText.textContent = formatted;
    }

    const countdownTimer = setInterval(updateCountdown, 1000);
    updateCountdown();

    /* ---------- Music control (avoids autoplay blocking) ---------- */
    const bgMusic = document.getElementById('bgMusic');
    const musicToggle = document.getElementById('musicToggle');
    const musicLabel = document.getElementById('musicLabel');

    let isPlaying = false;
    function updateMusicUI(){
      musicToggle.textContent = isPlaying ? "‚è∏" : "‚ñ∫";
      musicLabel.textContent = isPlaying ? "Pause music" : "Play music";
    }
    musicToggle.addEventListener('click', async () => {
      try {
        if(!isPlaying){
          await bgMusic.play(); // may reject until user interaction ‚Äî but here user clicked
          isPlaying = true;
          updateMusicUI();
        } else {
          bgMusic.pause();
          isPlaying = false;
          updateMusicUI();
        }
      } catch(e){
        console.warn("Could not play audio automatically:", e);
        musicLabel.textContent = "Tap the audio control below";
      }
    });
    // show native controls after user interacts (helps on mobile)
    bgMusic.addEventListener('play', ()=> { isPlaying=true; updateMusicUI(); bgMusic.setAttribute('controls',''); });
    bgMusic.addEventListener('pause', ()=> { isPlaying=false; updateMusicUI(); });

    /* ---------- Comments / typing effect / hearts / sparkles ---------- */
    const commentBtn = document.getElementById('commentBtn');
    const commentInput = document.getElementById('commentInput');
    const commentList = document.getElementById('commentList');

    function createSparkle(x,y){
      const s = document.createElement('div');
      s.style.position = 'fixed';
      s.style.left = (x-6)+'px';
      s.style.top = (y-6)+'px';
      s.style.width = '10px'; s.style.height = '10px';
      s.style.borderRadius = '50%';
      s.style.background = '#fff3a6';
      s.style.opacity = '0.95';
      s.style.pointerEvents = 'none';
      s.style.transform = 'scale(.6)';
      s.style.transition = 'transform .5s, opacity .6s';
      document.body.appendChild(s);
      requestAnimationFrame(()=> { s.style.transform = 'scale(2)'; s.style.opacity='0'; });
      setTimeout(()=> s.remove(),700);
    }

    commentBtn.addEventListener('click', ()=>{
      const comment = commentInput.value.trim();
      if(!comment) return;
      const item = document.createElement('div');
      item.className = 'comment-item';

      const span = document.createElement('span');
      item.appendChild(span);
      commentList.prepend(item);

      // typing animation
      let i=0;
      (function type(){
        if(i<comment.length){ span.textContent += comment.charAt(i); i++; setTimeout(type, 25); }
      })();

      // heart
      const heart = document.createElement('span');
      heart.className = 'comment-heart';
      heart.textContent = '‚ô°';
      heart.title = 'Tap to like';
      item.appendChild(heart);

      heart.addEventListener('click', (ev)=>{
        heart.textContent = (heart.textContent === '‚ô°') ? '‚ù§Ô∏è' : '‚ô°';
        createSparkle(ev.clientX, ev.clientY);
      });

      // little sparkle on post
      const r = item.getBoundingClientRect();
      createSparkle(r.left + r.width/2, r.top + 12);

      commentInput.value = '';
    });

    // allow Enter to post
    commentInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ e.preventDefault(); commentBtn.click(); } });

  </script>
</body>
</html>

